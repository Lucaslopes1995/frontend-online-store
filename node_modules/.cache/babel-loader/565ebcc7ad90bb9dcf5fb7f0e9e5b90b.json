{"ast":null,"code":"var _jsxFileName = \"/home/lucas/Documentos/projetos/sd-021-b-project-frontend-online-store/src/pages/ProductInfo.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nclass ProductInfo extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      cartProducts: []\n    };\n\n    this.componentDidMount = () => {\n      let getFavorites = JSON.parse(localStorage.getItem('productCart'));\n      const ajusteFav = getFavorites || [];\n      getFavorites = ajusteFav;\n      this.setState({\n        cartProducts: getFavorites\n      });\n    };\n\n    this.addToCart = product => {\n      const {\n        cartProducts\n      } = this.state;\n      const ajustedCart = listCart.filter(el => el.id !== product.id);\n\n      if (product.tamanho < 2 && op === -1) {\n        fav.tamanho = 0;\n      } else {\n        product.tamanho += op;\n      }\n\n      ajustedCart = [...ajustedCart, product];\n      this.setState({\n        cartProducts: ajustedCart\n      }, () => {\n        const {\n          listCart: Carrinho\n        } = this.state;\n        localStorage.setItem('productCart', JSON.stringify(Carrinho));\n      });\n      this.setState({\n        cartProducts: [...cartProducts, product]\n      }, () => {\n        const {\n          cartProducts: Carrinho\n        } = this.state;\n        localStorage.setItem('productCart', JSON.stringify(Carrinho));\n      });\n    };\n  }\n\n  render() {\n    const {\n      location: {\n        state: infos\n      },\n      history\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"product-detail-add-to-cart\",\n      onClick: () => this.addToCart(infos),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, \"Adicionar ao carrinho\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => history.push('/cart'),\n      type: \"button\",\n      \"data-testid\": \"shopping-cart-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, \"Ir para o Carrinho\"), /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"product-detail-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, infos.title));\n  }\n\n}\n\nProductInfo.propTypes = {\n  history: PropTypes.instanceOf(Object).isRequired,\n  location: PropTypes.instanceOf(Object).isRequired\n};\nexport default ProductInfo;","map":{"version":3,"sources":["/home/lucas/Documentos/projetos/sd-021-b-project-frontend-online-store/src/pages/ProductInfo.js"],"names":["React","PropTypes","ProductInfo","Component","state","cartProducts","componentDidMount","getFavorites","JSON","parse","localStorage","getItem","ajusteFav","setState","addToCart","product","ajustedCart","listCart","filter","el","id","tamanho","op","fav","Carrinho","setItem","stringify","render","location","infos","history","props","push","title","propTypes","instanceOf","Object","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass ProductInfo extends React.Component {\n  state = {\n    cartProducts: [],\n  }\n\n  componentDidMount = () => {\n    let getFavorites = JSON.parse(localStorage.getItem('productCart'));\n    const ajusteFav = getFavorites || [];\n    getFavorites = ajusteFav;\n    this.setState({ cartProducts: getFavorites });\n  }\n\n  addToCart = (product) => {\n    const { cartProducts } = this.state;\n\n    const ajustedCart = listCart.filter((el) => el.id !== product.id);\n    if (product.tamanho < 2 && op === -1) {\n      fav.tamanho = 0;\n    } else {\n      product.tamanho += op;\n    }\n\n    ajustedCart=[...ajustedCart,product]\n\n    this.setState({ cartProducts:ajustedCart }, () => {\n      const { listCart: Carrinho } = this.state;\n      localStorage.setItem('productCart', JSON.stringify(Carrinho));\n    });\n\n\n\n\n\n\n\n\n    this.setState({ cartProducts: [...cartProducts, product] }, () => {\n      const { cartProducts: Carrinho } = this.state;\n      localStorage.setItem('productCart', JSON.stringify(Carrinho));\n    });\n  }\n\n  render() {\n    const { location: { state: infos }, history } = this.props;\n\n    return (\n      <div>\n        <button\n          type=\"button\"\n          data-testid=\"product-detail-add-to-cart\"\n          onClick={ () => this.addToCart(infos) }\n        >\n          Adicionar ao carrinho\n        </button>\n\n        <button\n          onClick={ () => history.push('/cart') }\n          type=\"button\"\n          data-testid=\"shopping-cart-button\"\n        >\n          Ir para o Carrinho\n\n        </button>\n        <p data-testid=\"product-detail-name\">{infos.title}</p>\n      </div>\n    );\n  }\n}\nProductInfo.propTypes = {\n  history: PropTypes.instanceOf(Object).isRequired,\n  location: PropTypes.instanceOf(Object).isRequired,\n\n};\n\nexport default ProductInfo;\n"]},"metadata":{},"sourceType":"module"}