{"ast":null,"code":"var _jsxFileName = \"/home/lucas/Documentos/projetos/sd-021-b-project-frontend-online-store/src/pages/ShoppingCart.js\";\nimport React from 'react';\n\nclass ShoppingCart extends React.Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      let getFavorites = JSON.parse(localStorage.getItem('productCart'));\n      const ajusteFav = getFavorites || [];\n      this.setState({\n        listCart: ajusteFav\n      });\n    };\n\n    this.ajustNewProduct = (fav, op) => {\n      const {\n        listCart\n      } = this.state;\n      let ajustedCart = listCart.filter(el => el.id !== fav.id);\n      fav.tamanho += op;\n\n      if (listCart.find(el => el.id === product.id) === undefined) {\n        product.tamanho = 1;\n        this.setState({\n          listCart: [...listCart, product]\n        }, () => {\n          const {\n            listCart: Carrinho\n          } = this.state;\n          localStorage.setItem('productCart', JSON.stringify(Carrinho));\n        });\n      } else {\n        let index;\n        [...listCart].find((el, i) => {\n          if (el.id === fav.id) {\n            index = i;\n            return true;\n          }\n        });\n        listCart[index].tamanho += 1;\n        this.setState({\n          listCart\n        }, () => {\n          const {\n            listCart: Carrinho\n          } = this.state;\n          localStorage.setItem('productCart', JSON.stringify(Carrinho));\n        });\n      }\n\n      ajustedCart = [...ajustedCart, fav];\n      console.log(ajustedCart);\n      this.setState({\n        listCart: ajustedCart\n      });\n      const getFavorites = JSON.parse(localStorage.getItem('productCart'));\n      localStorage.setItem('productCart', JSON.stringify([...getFavorites, fav]));\n    };\n\n    this.state = {\n      listCart: []\n    };\n  }\n\n  render() {\n    const {\n      listCart\n    } = this.state;\n    const validListCart = listCart.length === 0;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, validListCart && /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"shopping-cart-empty-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, \"Seu carrinho est\\xE1 vazio\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, listCart.map(fav => /*#__PURE__*/React.createElement(\"div\", {\n      key: fav.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"shopping-cart-product-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }\n    }, fav.title), /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"shopping-cart-product-quantity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, fav.tamanho), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"product-increase-quantity\",\n      onClick: () => this.ajustNewProduct(fav, 1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    }, \"+\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"product-decrease-quantity\",\n      onClick: () => this.ajustNewProduct(fav, -1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, \"-\")))));\n  }\n\n}\n\nexport default ShoppingCart;","map":{"version":3,"sources":["/home/lucas/Documentos/projetos/sd-021-b-project-frontend-online-store/src/pages/ShoppingCart.js"],"names":["React","ShoppingCart","Component","constructor","componentDidMount","getFavorites","JSON","parse","localStorage","getItem","ajusteFav","setState","listCart","ajustNewProduct","fav","op","state","ajustedCart","filter","el","id","tamanho","find","product","undefined","Carrinho","setItem","stringify","index","i","console","log","render","validListCart","length","map","title"],"mappings":"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","sourcesContent":["import React from 'react';\n\nclass ShoppingCart extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      listCart: [],\n    };\n  }\n\n  componentDidMount = () => {\n    let getFavorites = JSON.parse(localStorage.getItem('productCart'));\n    const ajusteFav = getFavorites || [];\n    this.setState({ listCart: ajusteFav });\n  }\n\n  ajustNewProduct= (fav, op) => {\n    const { listCart } = this.state;\n\n    let ajustedCart = listCart.filter((el) => el.id !== fav.id);\n    fav.tamanho += op;\n\n    if (listCart.find((el) => el.id === product.id) === undefined) {\n      product.tamanho = 1;\n      this.setState({ listCart: [...listCart, product] }, () => {\n        const { listCart: Carrinho } = this.state;\n        localStorage.setItem('productCart', JSON.stringify(Carrinho));\n      });\n    } else {\n      let index;\n      [...listCart].find((el, i) => {\n        if (el.id === fav.id) {\n          index = i;\n          return true;\n        }\n      });\n\n      listCart[index].tamanho += 1;\n      this.setState({ listCart }, () => {\n        const { listCart: Carrinho } = this.state;\n        localStorage.setItem('productCart', JSON.stringify(Carrinho));\n      });\n    }\n\n\n\n\n\n\n    ajustedCart = [...ajustedCart, fav];\n    console.log(ajustedCart);\n    this.setState({ listCart: ajustedCart });\n    const getFavorites = JSON.parse(localStorage.getItem('productCart'));\n    localStorage.setItem('productCart', JSON.stringify([...getFavorites, fav]));\n  }\n\n  render() {\n    const { listCart } = this.state;\n    const validListCart = (listCart.length === 0);\n    return (\n      <div>\n        {validListCart && (\n          <p data-testid=\"shopping-cart-empty-message\">\n            Seu carrinho est√° vazio\n          </p>)}\n        <div>\n          {listCart.map((fav) => (\n            <div key={ fav.id }>\n              <p data-testid=\"shopping-cart-product-name\">{fav.title}</p>\n              <p data-testid=\"shopping-cart-product-quantity\">{fav.tamanho}</p>\n              <button\n                type=\"button\"\n                data-testid=\"product-increase-quantity\"\n                onClick={ () => this.ajustNewProduct(fav, 1) }\n              >\n                +\n              </button>\n              <button\n                type=\"button\"\n                data-testid=\"product-decrease-quantity\"\n                onClick={ () => this.ajustNewProduct(fav, -1) }\n              >\n                -\n              </button>\n\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\nexport default ShoppingCart;\n"]},"metadata":{},"sourceType":"module"}