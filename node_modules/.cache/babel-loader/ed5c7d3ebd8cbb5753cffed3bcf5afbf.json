{"ast":null,"code":"var _jsxFileName = \"/home/lucas/Documentos/projetos/sd-021-b-project-frontend-online-store/src/pages/ProductInfo.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nclass ProductInfo extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      cartProducts: [],\n      checkbox0: false,\n      checkbox1: false,\n      checkbox2: false,\n      checkbox3: false,\n      checkbox4: false\n    };\n\n    this.componentDidMount = () => {\n      const {\n        location: {\n          state: infos\n        },\n        history\n      } = this.props;\n      let getFavorites = JSON.parse(localStorage.getItem('productCart'));\n      const ajusteFav = getFavorites || [];\n      const verificaQtd = ajusteFav.find(el => {\n        if (el.id === infos.id) {\n          if (el.tamanho === undefined) {\n            el.tamanho = 0;\n            infos.tamanho = 0;\n          }\n\n          infos.tamanho = el.tamanho;\n          return true;\n        }\n      });\n\n      if (verificaQtd === undefined) {\n        infos.tamanho = 0;\n      }\n\n      getFavorites = ajusteFav;\n      this.setState({\n        cartProducts: getFavorites,\n        product: infos\n      });\n    };\n\n    this.addToCart = op => {\n      const {\n        product\n      } = this.state;\n      const getFavorites = JSON.parse(localStorage.getItem('productCart'));\n      const ajusteFav = getFavorites || [];\n      let ajustedCart = ajusteFav.filter(el => el.id !== product.id); // console.log(product)\n\n      if (product.tamanho < 2 && op === -1) {\n        product.tamanho = 1;\n      } else {\n        product.tamanho = product.tamanho ? product.tamanho += op : 1;\n      }\n\n      ajustedCart = [...ajustedCart, product];\n      this.setState({\n        cartProducts: ajustedCart\n      }, () => {\n        const {\n          cartProducts: Carrinho\n        } = this.state;\n        localStorage.setItem('productCart', JSON.stringify(Carrinho));\n      });\n    };\n\n    this.validCheckbox = index => {\n      console.log(index < 2);\n      this.setState({\n        checkbox0: index >= 0,\n        checkbox1: index >= 1,\n        checkbox2: index >= 2,\n        checkbox3: index >= 3,\n        checkbox4: index >= 4\n      });\n    };\n  }\n\n  render() {\n    const {\n      location: {\n        state: infos\n      },\n      history\n    } = this.props;\n    const {\n      checkbox0,\n      checkbox1,\n      checkbox2,\n      checkbox3,\n      checkbox4\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"product-detail-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, infos.title), /*#__PURE__*/React.createElement(\"input\", {\n      \"data-testid\": \"product-detail-email\",\n      type: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      \"data-testid\": \"0-rating\",\n      checked: checkbox0,\n      onChange: () => this.validCheckbox(0),\n      type: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      \"data-testid\": \"1-rating\",\n      checked: checkbox1,\n      onChange: () => this.validCheckbox(1),\n      type: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      \"data-testid\": \"2-rating\",\n      checked: checkbox2,\n      onChange: () => this.validCheckbox(2),\n      type: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      \"data-testid\": \"3-rating\",\n      checked: checkbox3,\n      onChange: () => this.validCheckbox(3),\n      type: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      \"data-testid\": \"4-rating\",\n      checked: checkbox4,\n      onChange: () => this.validCheckbox(4),\n      type: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      \"data-testid\": \"submit-review-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, \"Enviar Avalia\\xE7\\xE3o'>\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      \"data-testid\": \"product-detail-evaluation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"product-detail-add-to-cart\",\n      onClick: () => this.addToCart(infos, 1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }\n    }, \"Adicionar ao carrinho\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => history.push('/cart'),\n      type: \"button\",\n      \"data-testid\": \"shopping-cart-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, \"Ir para o Carrinho\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }\n    }, \"Quantidade\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"product-increase-quantity\",\n      onClick: () => this.addToCart(1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }, \"+\"), /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"product-detail-quantidade\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }\n    }, infos.tamanho), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"product-decrease-quantity\",\n      onClick: () => this.addToCart(-1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }\n    }, \"-\")));\n  }\n\n}\n\nProductInfo.propTypes = {\n  history: PropTypes.instanceOf(Object).isRequired,\n  location: PropTypes.instanceOf(Object).isRequired\n};\nexport default ProductInfo;","map":{"version":3,"sources":["/home/lucas/Documentos/projetos/sd-021-b-project-frontend-online-store/src/pages/ProductInfo.js"],"names":["React","PropTypes","ProductInfo","Component","state","cartProducts","checkbox0","checkbox1","checkbox2","checkbox3","checkbox4","componentDidMount","location","infos","history","props","getFavorites","JSON","parse","localStorage","getItem","ajusteFav","verificaQtd","find","el","id","tamanho","undefined","setState","product","addToCart","op","ajustedCart","filter","Carrinho","setItem","stringify","validCheckbox","index","console","log","render","title","push","propTypes","instanceOf","Object","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass ProductInfo extends React.Component {\n  state = {\n    cartProducts: [],\n    checkbox0:false, \n    checkbox1:false,\n    checkbox2:false, \n    checkbox3:false, \n    checkbox4:false\n  }\n\n  componentDidMount = () => {\n    const { location: { state: infos }, history } = this.props;\n\n    let getFavorites = JSON.parse(localStorage.getItem('productCart'));\n    const ajusteFav = getFavorites || [];\n\n    const verificaQtd = ajusteFav.find((el) => {\n      if (el.id === infos.id) {\n        if (el.tamanho === undefined) {\n          el.tamanho = 0;\n          infos.tamanho = 0;\n        }\n        infos.tamanho = el.tamanho;\n        return true;\n      }\n    });\n\n    if (verificaQtd === undefined) {\n      infos.tamanho = 0;\n    }\n\n    getFavorites = ajusteFav;\n    this.setState({ cartProducts: getFavorites, product: infos });\n  }\n\n  addToCart = (op) => {\n    const { product } = this.state;\n    const getFavorites = JSON.parse(localStorage.getItem('productCart'));\n    const ajusteFav = getFavorites || [];\n    let ajustedCart = ajusteFav.filter((el) => el.id !== product.id);\n    // console.log(product)\n    if (product.tamanho < 2 && op === -1) {\n      product.tamanho = 1;\n    } else {\n      product.tamanho = (product.tamanho) ? product.tamanho += op : 1;\n    }\n\n    ajustedCart = [...ajustedCart, product];\n\n    this.setState({ cartProducts: ajustedCart }, () => {\n      const { cartProducts: Carrinho } = this.state;\n      localStorage.setItem('productCart', JSON.stringify(Carrinho));\n    });\n  }\n\n  validCheckbox = (index) => {\n    console.log(index<2)\n    this.setState({\n    checkbox0:index>=0, \n    checkbox1:index>=1,\n    checkbox2:index>=2, \n    checkbox3:index>=3, \n    checkbox4:index>=4\n    })\n  }\n\n  render() {\n    const { location: { state: infos }, history } = this.props;\n    const {checkbox0, checkbox1,checkbox2, checkbox3, checkbox4} = this.state\n \n\n    return (\n      <div>\n        <form>\n          <p data-testid=\"product-detail-name\">{infos.title}</p>\n          <input\n          data-testid=\"product-detail-email\"\n          type='email'\n          />\n\n          <input\n          data-testid=\"0-rating\"\n          checked={checkbox0}\n          onChange={()=>this.validCheckbox(0)}\n          type='checkbox'\n          />\n          <input\n          data-testid=\"1-rating\"\n          checked={checkbox1}\n          onChange={()=>this.validCheckbox(1)}\n          type='checkbox'\n          />\n          <input\n          data-testid=\"2-rating\"\n          checked={checkbox2}\n          onChange={()=>this.validCheckbox(2)}\n          type='checkbox'\n          />\n          <input\n          data-testid=\"3-rating\"\n          checked={checkbox3}\n          onChange={()=>this.validCheckbox(3)}\n          type='checkbox'\n          />\n          <input\n          data-testid=\"4-rating\"\n          checked={checkbox4}\n          onChange={()=>this.validCheckbox(4)}\n          type='checkbox'\n          />\n          <button type='submit' data-testid=\"submit-review-btn\">Enviar Avaliação'></button>\n          <textarea data-testid=\"product-detail-evaluation\"/>\n\n          <button\n            type=\"button\"\n            data-testid=\"product-detail-add-to-cart\"\n            onClick={ () => this.addToCart(infos, 1) }\n          >\n            Adicionar ao carrinho\n          </button>\n\n          <button\n            onClick={ () => history.push('/cart') }\n            type=\"button\"\n            data-testid=\"shopping-cart-button\"\n          >\n            Ir para o Carrinho\n\n          </button>\n\n          <p>Quantidade</p>\n          <button\n            type=\"button\"\n            data-testid=\"product-increase-quantity\"\n            onClick={ () => this.addToCart(1) }\n          >\n            +\n          </button>\n          <p data-testid=\"product-detail-quantidade\">{infos.tamanho}</p>\n          <button\n            type=\"button\"\n            data-testid=\"product-decrease-quantity\"\n            onClick={ () => this.addToCart(-1) }\n          >\n            -\n          </button>\n\n        </form>\n      </div>\n    );\n  }\n}\nProductInfo.propTypes = {\n  history: PropTypes.instanceOf(Object).isRequired,\n  location: PropTypes.instanceOf(Object).isRequired,\n\n};\n\nexport default ProductInfo;\n"]},"metadata":{},"sourceType":"module"}