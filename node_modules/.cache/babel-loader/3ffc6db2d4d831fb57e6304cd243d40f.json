{"ast":null,"code":"var _jsxFileName = \"/home/lucas/Documentos/projetos/sd-021-b-project-frontend-online-store/src/pages/ShoppingCart.js\";\nimport React from 'react';\n\nclass ShoppingCart extends React.Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      let getFavorites = JSON.parse(localStorage.getItem('productCart'));\n      const ajusteFav = getFavorites || [];\n      getFavorites = ajusteFav;\n      let c = [];\n      getFavorites.map(favorite => {\n        const b = getFavorites.filter(elem => elem.id === favorite.id);\n\n        if (c.find(el => el.id === favorite.id) === undefined) {\n          c = [...c, favorite];\n        }\n\n        favorite.tamanho = b.length;\n        this.setState({\n          listCart: c\n        });\n        return favorite;\n      });\n    };\n\n    this.addNewProduct = (fav, op) => {\n      const {\n        listCart\n      } = this.state;\n      let ajustedCart = listCart.filter(el => el.id !== fav.id);\n      fav.tamanho += op;\n      ajustedCart = [...ajustedCart, fav];\n      console.log(ajustedCart);\n      this.setState({\n        listCart: ajustedCart\n      });\n      let getFavorites = JSON.parse(localStorage.getItem('productCart'));\n      localStorage.setItem('productCart', JSON.stringify([...getFavorites, fav]));\n    };\n\n    this.state = {\n      listCart: []\n    };\n  }\n\n  render() {\n    const {\n      listCart\n    } = this.state;\n    const validListCart = listCart.length === 0;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }\n    }, validListCart && /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"shopping-cart-empty-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }, \"Seu carrinho est\\xE1 vazio\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, listCart.sort((a, b) => {\n      if (a.title > b.title) {\n        return 1;\n      }\n\n      if (a.title < b.title) {\n        return -1;\n      }\n    }).map(fav => /*#__PURE__*/React.createElement(\"div\", {\n      key: fav.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"shopping-cart-product-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }\n    }, fav.title), /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"shopping-cart-product-quantity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }, fav.tamanho), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"product-increase-quantity\",\n      onClick: () => this.addNewProduct(fav, 1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, \"+\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"product-increase-quantity\",\n      onClick: () => this.addNewProduct(fav, -1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }, \"-\")))));\n  }\n\n}\n\nexport default ShoppingCart;","map":{"version":3,"sources":["/home/lucas/Documentos/projetos/sd-021-b-project-frontend-online-store/src/pages/ShoppingCart.js"],"names":["React","ShoppingCart","Component","constructor","componentDidMount","getFavorites","JSON","parse","localStorage","getItem","ajusteFav","c","map","favorite","b","filter","elem","id","find","el","undefined","tamanho","length","setState","listCart","addNewProduct","fav","op","state","ajustedCart","console","log","setItem","stringify","render","validListCart","sort","a","title"],"mappings":"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","sourcesContent":["import React from 'react';\n\nclass ShoppingCart extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      listCart: [],\n    };\n  }\n\n  componentDidMount = () => {\n    let getFavorites = JSON.parse(localStorage.getItem('productCart'));\n    const ajusteFav = getFavorites || [];\n    getFavorites = ajusteFav;\n    let c = [];\n    getFavorites.map((favorite) => {\n      const b = getFavorites.filter((elem) => elem.id === favorite.id);\n      if (c.find((el) => el.id === favorite.id) === undefined) {\n        c = [...c, favorite];\n      }\n      favorite.tamanho = b.length;\n      this.setState({ listCart: c });\n      return favorite;\n    });\n  }\n\n  addNewProduct= (fav,op) => {\n    const {listCart} = this.state;\n\n    let ajustedCart = listCart.filter(el=>el.id!==fav.id)\n    fav.tamanho+=op;\n    ajustedCart = [...ajustedCart, fav];\n    console.log(ajustedCart)\n    this.setState({listCart: ajustedCart})\n    let getFavorites = JSON.parse(localStorage.getItem('productCart'));\n    localStorage.setItem('productCart', JSON.stringify([...getFavorites,fav]));\n\n  }\n\n  render() {\n    const { listCart } = this.state;\n    const validListCart = (listCart.length === 0);\n    return (\n      <div>\n        {validListCart && (\n          <p data-testid=\"shopping-cart-empty-message\">\n            Seu carrinho est√° vazio\n          </p>)}\n        <div>\n          {listCart.sort((a,b)=>{\n      if (a.title > b.title) {\n        return 1;\n      }\n      if (a.title < b.title) {\n        return -1;\n      }}).map((fav) => (\n            <div key={ fav.id }>\n              <p data-testid=\"shopping-cart-product-name\">{fav.title}</p>\n              <p data-testid=\"shopping-cart-product-quantity\">{fav.tamanho}</p>\n              <button \n              type='button' \n              data-testid=\"product-increase-quantity\"\n              onClick={()=>this.addNewProduct (fav,1)}>+</button>\n              <button \n              type='button' \n              data-testid=\"product-increase-quantity\"\n              onClick={()=>this.addNewProduct (fav,-1)}>-</button>\n              \n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\nexport default ShoppingCart;\n"]},"metadata":{},"sourceType":"module"}